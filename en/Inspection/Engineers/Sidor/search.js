var engineers = function () {
    var eng = new Array();

    eng[0] = new Array("RIW", "Richard Wihlborg", "H&aumlssleholm", "0705-16 65 82", "richard.wihlborg@smp.sp.se", "../../../Personal/Default.html", 36, 354);
    eng[1] = new Array("ROU", "Rolf Uggla", "Trelleborg", "010-516 64 50", "rolf.uggla@smp.sp.se", "../../../Personal/Default.html", 25, 373);
    eng[2] = new Array("ANR", "Andreas Raihle", "Sj&oumlbo (Vollsj&ouml)", "010-516 64 59", "andreas.raihle@smp.sp.se", "../../../Personal/Default.html", 34, 367);
    eng[3] = new Array("STL", "Stefan Larsson", "Halmstad", "010-516 64 53", "stefan.larsson@smp.sp.se", "../../../Personal/Default.html", 21, 338);
    eng[4] = new Array("OLE", "Ola Eriksson", "H&aumlssleholm", "010-516 64 73", "ola.eriksson@smp.sp.se", "../../../Personal/Default.html", 36, 354);
    eng[5] = new Array("CLS", "Clas St&aringhlbom", "Varberg", "010-516 64 63", "clas.stahlbom@smp.sp.se", "../../../Personal/Default.html", 13, 326);
    eng[6] = new Array("KEE", "Kenth Ekb&aumlck", "Boden", "010-516 64 46", "kent.ekback@smp.sp.se", "../../../Personal/Default.html", 135, 86);
    eng[7] = new Array("ANJ", "Andreas Jonsson", "H&oumlrnefors", "010-516 64 68", "andreas.jonsson@smp.sp.se", "../../../Personal/Default.html", 116, 146);
    eng[8] = new Array("MIE", "Mikael Eriksson", "&Oumlrnsk&oumlldsvik (Arn&aumlsvall)", "010-516 64 48", "mikael.eriksson@smp.sp.se", "../../../Personal/Default.html", 104, 157);
    eng[9] = new Array("MIO", "Michael &Oumlhrling", "Sundsvall", "010-516 64 67", "michael.ohrling@smp.sp.se", "../../../Personal/Default.html", 84, 182);
    eng[10] = new Array("FRH", "Fredrik Hallstr&oumlm", "Vemdalen", "010-516 64 51", "fredrik.hallstrom@smp.sp.se", "../../../Personal/Default.html", 42, 182);
    eng[11] = new Array("THL", "Thomas Lindberg", "G&aumlvle", "010-516 64 69", "thomas.lindberg@smp.sp.se", "../../../Personal/Default.html", 83, 230);
    eng[12] = new Array("MIA", "Mikael Ahtiainen", "Smedjebacken", "010-516 64 70", "mikael.ahtiainen@smp.sp.se", "../../../Personal/Default.html", 73, 244);
    eng[13] = new Array("HEW", "Henrik Westin", "Arvika", "010-516 64 61", "henrik.westin@smp.sp.se", "../../../Personal/Default.html", 28, 257);
    eng[14] = new Array("ROS", "Robert Sandstr&oumlm", "Uppsala", "010-516 64 60", "robert.sandstrom@smp.sp.se", "../../../Personal/Default.html", 90, 252);
    eng[15] = new Array("ROD", "Ronnie Dandenell", "Nykvarn", "010-516 64 45", "ronnie.dandenell@smp.sp.se", "../../../Personal/Default.html", 90, 272);
    eng[16] = new Array("JAW", "Jan Wallin", "Oskarshamn", "010-516 64 36", "jan.wallin@smp.sp.se", "../../../Personal/Default.html", 71, 326);
    eng[17] = new Array("POE", "Per-Olov Engstr&oumlm", "Stockholm", "010-516 64 66", "per-olov.engstrom@smp.sp.se", "../../../Personal/Default.html", 97, 266);
    eng[18] = new Array("PEE", "Per Eriksson", "Stockholm", "010-516 64 49", "per.eriksson@smp.sp.se", "../../../Personal/Default.html", 97, 266);
    eng[19] = new Array("URA", "Urban Andersson", "Valskog, &oumlrebro", "010-516 64 58", "urban.andersson@smp.sp.se", "../../../Personal/Default.html", 69, 263);
    eng[20] = new Array("ANO", "Anders Olsson", "Skara", "010-516 64 57", "anders.olsson@smp.sp.se", "../../../Personal/Default.html", 33, 293);
    eng[21] = new Array("LEA", "Lars E Andersson", "Uppsala", "010-516 64 41", "lars.andersson@smp.sp.se", "../../../Personal/Default.html", 90, 252);
    eng[22] = new Array("BOA", "Bo Agmell", "Borgholm", "010-516 64 33", "bo.agmell@smp.sp.se", "../../../Personal/Default.html", 81, 330);
    eng[23] = new Array("DAJ", "Daniel Johannesson", "Huskvarna", "010-516 64 54", "daniel.johannesson@smp.sp.se", "../../../Personal/Default.html", 45, 308);
    eng[24] = new Array("TOA", "Tommy Axelsson", "V&aumlxj&ouml", "010-516 64 42", "tommy.axelsson@smp.sp.se", "../../../Personal/Default.html", 50, 333);
    eng[25] = new Array("ROO", "Roland &Oumlsterlund", "G&oumlteborg", "010-516 64 56", "roland.osterlund@smp.sp.se", "../../../Personal/Default.html", 9, 309);
    eng[26] = new Array("JIN", "Jimmy Nilsson", "S&oumllvesborg", "010-516 64 35", "jimmy.nilsson@smp.sp.se", "../../../Personal/Default.html", 47, 355);
    eng[27] = new Array("JEN", "Jan-Erik N&aumls", "Norrt&aumllje (Edsbro)", "010-516 64 55", "jan-erik.nas@smp.sp.se", "../../../Personal/Default.html", 101, 251);
    eng[28] = new Array("PAN", "Patrik Norbeck", "Liding&ouml", "010-516 64 37", "patrik.norbeck@smp.sp.se", "../../../Personal/Default.html", 98, 265);
    eng[29] = new Array("JOJ", "Jonatan Jonsson", "Mora", "010-516 64 78", "jonatan.jonsson@smp.sp.se", "../../../Personal/Default.html", 55, 222);
    eng[30] = new Array("PEA", "Per-Erik Andersson", "Lule&aring", "010-516 64 64", "per-erik.andersson@smp.sp.se", "../../../Personal/Default.html", 137, 93);
    eng[31] = new Array("SAK", "Sven-&aringke Karlsson", "Trollh&aumlttan", "010-516 64 65", "svenake.karlsson@smp.sp.se", "../../../Personal/Default.html", 15, 293);
    eng[32] = new Array("SVC", "Sven Carlsson", "Kinna", "010-516 64 44", "sven.carlsson@smp.sp.se", "../../../Personal/Default.html", 19, 315);
    eng[33] = new Array("MAB", "Marcus Blomberg", "Kisa", "010-516 64 43", "marcus.blomberg@smp.sp.se", "../../../Personal/Default.html", 63, 300);
    eng[34] = new Array("CHS", "Charlotte Strandlund", "Skinnskatteberg", "010-516 64 08", "Charlotte.Strandlund@smp.sp.se", "../../../Personal/Default.html", 74, 252);
    eng[35] = new Array("PESU", "Pentti Suoraniemi", "Eskilstuna", "010-516 64 79", "Pentti.Suoraniemi@smp.sp.se", "../../../Personal/Default.html", 83, 263);
    eng[36] = new Array("JOF", "Jonas Fridh", "Uppsala", "010-516 64 80", "Jonas.Fridh@smp.sp.se", "../../../Personal/Default.html", 90, 252);

    return eng;
}


var getEmp = function (mouseX, mouseY) {
    var eng = engineers();
    for (var i = 0; i < eng.length; i += 1) {
        var x = eng[i][6];
        var y = eng[i][7];
        var dist = (x - mouseX) * (x - mouseX) + (y - mouseY) * (y - mouseY);
        eng[i].push(dist);
    }
    eng.sort(function (a, b) { return a[8] - b[8] });
    return eng;
}

function point_it(event) {
    pos_x = event.offsetX ? (event.offsetX) : event.pageX - document.getElementById("pointer_div").offsetLeft;
    pos_y = event.offsetY ? (event.offsetY) : event.pageY - document.getElementById("pointer_div").offsetTop;
    return new Array(pos_x, pos_y);
}

var findClosestEng = function (e) {
    var result = "";
    var coords = point_it(e);
    var x = coords[0];
    var y = coords[1];
    var eng = getEmp(x, y);

    for (var i = 0; i < 5; i += 1) {
        result += "<h4 align=\"left\"><a href=\"" + eng[i][5] + "?emp=" + eng[i][0] + "\" >" + eng[i][1] + "</a></h4>";
        result = result + "<div align='left'><p style='font-weight:bold';>" + eng[i][2] + "</h5></br><div class='contactPerson'><a href=\"mailto:" + eng[i][4] + "\" class='contact' style='padding-left:20px';>" + eng[i][4] + "</a><p>Phone: " + eng[i][3] + "</div></div>";
    }
    
    replace_html(document.getElementById("resultLabel"), result);
}

function replace_html(el, html) {
	if( el ) {
                var oldEl = (typeof el === "string" ? document.getElementById(el) : el);
                var newEl = document.createElement(oldEl.nodeName);

                // Preserve any properties we care about (id and class in this example)
                newEl.id = oldEl.id;
                newEl.className = oldEl.className;

		newEl.insertAdjacentHTML("afterBegin", html);
                if(oldEl.parentNode)
        	        oldEl.parentNode.replaceChild(newEl, oldEl);
                else
		        oldEl.innerHTML = html;

                //return a reference to the new element in case we need it
                return newEl;
	}
};